<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contato | MBBIM Consultoria & Inovação</title>
  <meta name="description" content="Entre em contato com a MBBim Consultoria & Inovação para falar sobre projetos, consultorias BIM, planejamento 4D e automações.">
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Sora:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Navbar -->
  <header class="navbar">
    <div class="container nav-content">
      <div class="logo-area">
        <img src="img/logo-mbbim-branco.png" alt="MBBIM Consultoria &amp; Inovação" class="logo-img">
      </div>

      <button class="nav-toggle" aria-label="Abrir menu">
        ☰
      </button>

      <nav class="nav-links">
        <a href="index.html">Home</a>
        <a href="sobre.html">Sobre</a>
        <a href="servicos.html">Serviços</a>
        <a href="projetos.html">Projetos</a>
        <a href="contato.html">Contato</a>
      </nav>
    </div>
  </header>

  <main>
    <section class="section" id="contato">
      <div class="container contact-grid">
        <div>
          <span class="section-eyebrow">Contato</span>
          <h1>Entre em contato com a MBBIM</h1>
          <p class="section-subtitle">
            Use o formulário ou os canais abaixo para detalhar quais são suas necessidades.
            Respondemos com uma proposta de abordagem e próximos passos.
          </p>

          <div class="contact-highlight">
            <p><strong>E-mail:</strong> <a href="mailto:contato@mbbim.com.br">contato@mbbim.com.br</a></p>
            <p><strong>WhatsApp:</strong> <a href="https://wa.me/5511941380138" target="_blank" rel="noopener">(11) 94138-0138</a></p>
          </div>

          <p class="contact-note">
            Se preferir, podemos marcar uma reunião online para entender melhor a demanda,
            alinhar expectativas e definir próximos passos.
          </p>
        </div>

        <form id="contact-form" class="contact-form">
          <div class="field">
              <label for="nome">Nome</label>
              <input type="text" id="nome" name="nome" required />
          </div>
        
          <div class="field">
              <label for="email">E-mail</label>
              <input type="email" id="email" name="email" required />
          </div>
        
          <div class="field">
              <label for="empresa">Empresa (opcional)</label>
              <input type="text" id="empresa" name="empresa" />
          </div>
        
          <div class="field">
              <label for="mensagem">Mensagem</label>
              <textarea id="mensagem" name="mensagem" rows="4" required></textarea>
          </div>
        
          <button type="submit" class="btn primary full">Enviar mensagem</button>
        </form>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container footer-content">
      <p>© <span id="year"></span> MBBIM Consultoria &amp; Inovação. Todos os direitos reservados.</p>
      <p class="footer-secondary">
        Focado em BIM, dados e processos para projetos mais eficientes.
      </p>
    </div>
  </footer>

  <script>
    // Ano no rodapé
    const yearEl = document.getElementById("year");
    if (yearEl) {
      yearEl.textContent = new Date().getFullYear();
    }
  
    // Menu mobile
    const navToggle = document.querySelector(".nav-toggle");
    const navLinks = document.querySelector(".nav-links");
    if (navToggle && navLinks) {
      navToggle.addEventListener("click", () => {
        navLinks.classList.toggle("nav-open");
      });
    }
  
    // Formulário de contato → Formspree + redirecionar para contato-sucesso.html
    (function () {
      const form = document.getElementById("contact-form");
      if (!form) return; // se a página não tiver formulário, não faz nada
  
      form.addEventListener("submit", async function (e) {
        e.preventDefault(); // evita envio padrão / redirecionamento do navegador
  
        const data = new FormData(form);
        const submitButton = form.querySelector('button[type="submit"]');
        const originalText = submitButton ? submitButton.textContent : null;
  
        if (submitButton) {
          submitButton.disabled = true;
          submitButton.textContent = "Enviando...";
        }
  
        try {
          const response = await fetch("https://formspree.io/f/mrbvqjqo", {
            method: "POST",
            body: data,
            headers: { "Accept": "application/json" },
          });
  
          if (response.ok) {
            // redireciona para a página de sucesso da MBBIM
            window.location.href = "contato-sucesso.html";
          } else {
            alert("Não foi possível enviar sua mensagem. Tente novamente em alguns instantes.");
            if (submitButton && originalText) {
              submitButton.disabled = false;
              submitButton.textContent = originalText;
            }
          }
        } catch (err) {
          alert("Ocorreu um erro de conexão ao enviar o formulário. Verifique sua internet e tente novamente.");
          if (submitButton && originalText) {
            submitButton.disabled = false;
            submitButton.textContent = originalText;
          }
        }
      });
    })();
  </script>
</body>
</html>
